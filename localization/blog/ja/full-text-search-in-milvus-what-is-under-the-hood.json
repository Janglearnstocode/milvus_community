{"codeList":["{i: f(1), love: f(1), milvus: f(1)}\n","{who: IDF(who), love: IDF(love), milvus: IDF(milvus)}\n","from pymilvus import MilvusClient, DataType, Function, FunctionType\n\nclient = MilvusClient(uri=\"http://localhost:19530\")\n\n# Define a schema\nschema = client.create_schema()\nschema.add_field(field_name=\"id\", datatype=DataType.INT64, is_primary=True, auto_id=True)\nschema.add_field(field_name=\"document\", datatype=DataType.VARCHAR, max_length=1000, enable_analyzer=True)\nschema.add_field(field_name=\"sparse\", datatype=DataType.SPARSE_FLOAT_VECTOR)\n\n# Add BM25 function mapping text to sparse vector\nbm25_function = Function(\n    name=\"text_bm25_emb\",\n    input_field_names=[\"document\"],\n    output_field_names=[\"sparse\"],\n    function_type=FunctionType.BM25,\n)\nschema.add_function(bm25_function)\n","# Prepare the index\nindex_params = client.prepare_index_params()\nindex_params.add_index(\n    field_name=\"sparse\",\n    index_type=\"AUTO_INDEX\", \n    metric_type=\"BM25\"\n)\n\n# Create the collection (Milvus will automatically load it)\nclient.create_collection(\n    collection_name=\"hello_bm25\",\n    schema=schema,\n    index_params=index_params\n)\n","# Insert documents\nentities = [\n    {\"document\": \"Artificial intelligence was founded ...\"},\n    {\"document\": \"Alan Turing was the first person to ...\"},\n    {\"document\": \"Born in Maida Vale, London, Turing ...\"},\n]\nclient.insert(\"hello_bm25\", entities)\n","# Example: Search for \"Artificial Intelligence\"\nclient.search(\n    collection_name=\"hello_bm25\",\n    data=[\"Artificial Intelligence\"],\n    anns_field=\"sparse\",\n    limit=1,\n    output_fields=[\"document\"]\n)\n"],"headingContent":"","anchorList":[{"label":"はじめに","href":"Introduction","type":2,"isActive":false},{"label":"有名なBM25ランキングアルゴリズム","href":"The-Famous-BM25-Ranking-Algorithm","type":2,"isActive":false},{"label":"スパースベクトルを使ったBM25の計算","href":"Computing-BM25-using-Sparse-Vector","type":2,"isActive":false},{"label":"より良いアプローチ - 動的統計と検索時間エンコーディング","href":"A-Better-Approach---Dynamic-Stats-and-Search-Time-Encoding","type":2,"isActive":false},{"label":"PyMilvusによる全文検索のデモ","href":"Full-Text-Search-Demo-with-PyMilvus","type":2,"isActive":false},{"label":"結論","href":"Conclusion","type":2,"isActive":false}]}