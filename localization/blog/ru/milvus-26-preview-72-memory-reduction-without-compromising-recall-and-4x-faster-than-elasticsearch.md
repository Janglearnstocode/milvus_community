---
id: >-
  milvus-26-preview-72-memory-reduction-without-compromising-recall-and-4x-faster-than-elasticsearch.md
title: >-
  Предварительный просмотр Milvus 2.6: Сокращение памяти на 72 % без ущерба для
  объема поиска и в 4 раза быстрее, чем Elasticsearch
author: Ken Zhang
date: 2025-05-16T00:00:00.000Z
cover: >-
  assets.zilliz.com/Milvus_2_6_Preview_72_Memory_Reduction_Without_Compromising_Recall_and_4x_Faster_Than_Elasticsearch_c607b644f1.png
tag: Engineering
recommend: true
publishToMedium: true
tags: 'Milvus, vector database, vector search, AI Agents, LLM'
meta_keywords: 'Milvus 2.6, vector database, vector search, full text search, AI search'
meta_title: >
  Milvus 2.6 Preview: 72% Memory Reduction Without Compromising Recall and 4x
  Faster Than Elasticsearch
desc: >-
  Получите эксклюзивный первый взгляд на инновации в грядущей версии Milvus 2.6,
  которые перевернут представление о производительности и эффективности
  векторных баз данных.
origin: >-
  https://milvus.io/blog/milvus-26-preview-72-memory-reduction-without-compromising-recall-and-4x-faster-than-elasticsearch.md
---
<p>На этой неделе мы рассказали о ряде интересных инноваций в Milvus, которые расширяют границы технологии векторных баз данных:</p>
<ul>
<li><p><a href="https://milvus.io/blog/how-to-filter-efficiently-without-killing-recall.md">Векторный поиск в реальном мире: как эффективно фильтровать, не убивая запоминание </a></p></li>
<li><p><a href="https://milvus.io/blog/bring-vector-compression-to-the-extreme-how-milvus-serves-3%C3%97-more-queries-with-rabitq.md">Векторное сжатие в экстремальных условиях: как Milvus обслуживает в 3 раза больше запросов с помощью RaBitQ</a></p></li>
<li><p><a href="https://milvus.io/blog/benchmarks-lie-vector-dbs-deserve-a-real-test.md">Бенчмарки лгут - векторные БД заслуживают реальной проверки </a></p></li>
<li><p><a href="https://milvus.io/blog/we-replaced-kafka-pulsar-with-a-woodpecker-for-milvus.md">Мы заменили Kafka/Pulsar на Woodpecker для Milvus </a></p></li>
<li><p><a href="https://milvus.io/blog/minhash-lsh-in-milvus-the-secret-weapon-for-fighting-duplicates-in-llm-training-data.md">MinHash LSH в Milvus: секретное оружие для борьбы с дубликатами в обучающих данных LLM </a></p></li>
</ul>
<p>Завершая нашу серию Milvus Week, я хочу рассказать вам о том, что нас ждет в Milvus 2.6 - важнейшей вехе нашей дорожной карты на 2025 год, которая сейчас находится в разработке, и о том, как эти улучшения изменят поиск на основе искусственного интеллекта. В предстоящем выпуске собраны все эти и другие инновации по трем важнейшим направлениям: <strong>оптимизация затрат</strong>, <strong>расширенные возможности поиска</strong> и <strong>новая архитектура</strong>, позволяющая расширить векторный поиск до масштаба 10 миллиардов векторов.</p>
<p>Давайте рассмотрим некоторые из ключевых улучшений, которые можно ожидать от Milvus 2.6 в июне этого года. Начнем с того, что может оказать самое непосредственное влияние: значительное сокращение использования памяти и затрат, а также сверхбыстрая производительность.</p>
<p>
  <span class="img-wrapper">
    <img translate="no" src="https://assets.zilliz.com/Milvus_2_6_Preview_72_Memory_Reduction_Without_Compromising_Recall_and_4x_Faster_Than_Elasticsearch_c607b644f1.png" alt="" class="doc-image" id="" />
    <span></span>
  </span>
</p>
<h2 id="Cost-Reduction-Slash-Memory-Usage-While-Boosting-Performance" class="common-anchor-header">Снижение затрат: Сокращение использования памяти при одновременном увеличении производительности<button data-href="#Cost-Reduction-Slash-Memory-Usage-While-Boosting-Performance" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Использование дорогостоящей памяти является одним из самых больших препятствий для масштабирования векторного поиска до миллиардов записей. В Milvus 2.6 будет представлено несколько ключевых оптимизаций, которые значительно сократят расходы на инфраструктуру и одновременно повысят производительность.</p>
<h3 id="RaBitQ-1-bit-Quantization-72-Memory-Reduction-with-4×-QPS-and-No-Recall-Loss" class="common-anchor-header">RaBitQ 1-битная квантизация: 72%-ное сокращение памяти при 4× QPS и отсутствии потерь при запоминании.</h3><p>Потребление памяти долгое время было "ахиллесовой пятой" крупномасштабных векторных баз данных. Хотя векторное квантование не является чем-то новым, большинство существующих подходов жертвуют слишком высоким качеством поиска ради экономии памяти. Milvus 2.6 решит эту проблему с головой, внедрив<a href="https://milvus.io/blog/bring-vector-compression-to-the-extreme-how-milvus-serves-3%C3%97-more-queries-with-rabitq.md"> 1-битное квантование RaBitQ</a> в производственные среды.</p>
<p>Особенностью нашей реализации является настраиваемая возможность оптимизации Refine, которую мы создаем. Реализовав первичный индекс с квантованием RaBitQ плюс опции SQ4/SQ6/SQ8 Refine, мы достигли оптимального баланса между использованием памяти и качеством поиска (~95 % запоминания).</p>
<p>Наши предварительные бенчмарки показывают многообещающие результаты:</p>
<table>
<thead>
<tr><th><strong>Метрика</strong><strong>производительности</strong> </th><th><strong>Традиционный IVF_FLAT</strong></th><th><strong>Только RaBitQ (1-бит)</strong></th><th><strong>RaBitQ (1-бит) + SQ8 Refine</strong></th></tr>
</thead>
<tbody>
<tr><td>Объем памяти</td><td>100% (базовый уровень)</td><td>3% (97% снижение)</td><td>28% (72%)</td></tr>
<tr><td>Качество запоминания</td><td>95.2%</td><td>76.3%</td><td>94.9%</td></tr>
<tr><td>Пропускная способность запроса (QPS)</td><td>236</td><td>648 (2,7× быстрее)</td><td>946 (4× быстрее)</td></tr>
</tbody>
</table>
<p><em>Таблица: Оценка VectorDBBench с 1 млн векторов размерности 768, тестирование на AWS m6id.2xlarge</em></p>
<p>Настоящим прорывом здесь является не только сокращение памяти, но и одновременное повышение производительности в 4 раза без ущерба для точности. Это означает, что вы сможете обслуживать ту же нагрузку на 75 % меньшем количестве серверов или обрабатывать в 4 раза больше трафика на существующей инфраструктуре.</p>
<p>Для корпоративных пользователей, использующих полностью управляемый Milvus в<a href="https://zilliz.com/cloud"> Zilliz Cloud</a>, мы разрабатываем автоматические профили конфигурации, которые будут динамически настраивать параметры RaBitQ в зависимости от характеристик вашей рабочей нагрузки и требований к точности.</p>
<h3 id="400-Faster-Full-text-Search-Than-Elasticsearch" class="common-anchor-header">На 400 % более быстрый полнотекстовый поиск, чем в Elasticsearch</h3><p>Возможности<a href="https://milvus.io/blog/full-text-search-in-milvus-what-is-under-the-hood.md">полнотекстового поиска</a> в векторных базах данных стали необходимы для создания гибридных поисковых систем. С момента появления BM25 в <a href="https://milvus.io/blog/introduce-milvus-2-5-full-text-search-powerful-metadata-filtering-and-more.md">Milvus 2.5</a> мы получили восторженные отзывы, а также пожелания о более высокой производительности в масштабе.</p>
<p>Milvus 2.6 обеспечит существенный прирост производительности BM25. Наше тестирование на наборе данных BEIR показало 3-4-кратное увеличение производительности по сравнению с Elasticsearch при эквивалентных показателях отзыва. Для некоторых рабочих нагрузок улучшение достигает 7-кратного повышения QPS.</p>
<p>
  <span class="img-wrapper">
    <img translate="no" src="https://assets.zilliz.com/Figure_Milvus_vs_Elasticsearch_on_throughput_140b7c1b06.png" alt="" class="doc-image" id="" />
    <span></span>
  </span>
</p>
<p>Рисунок: Milvus в сравнении с Elasticsearch по пропускной способности JSON Path Index: 99 % меньшая задержка при сложной фильтрации</p>
<p>Современные приложения искусственного интеллекта редко полагаются только на векторное сходство - они почти всегда сочетают векторный поиск с фильтрацией метаданных. По мере усложнения условий фильтрации (особенно при использовании вложенных JSON-объектов) производительность запросов может быстро снижаться.</p>
<p>В Milvus 2.6 появится механизм целевого индексирования для вложенных JSON-путей, который позволит вам создавать индексы по определенным путям (например, $meta. <code translate="no">user_info.location</code>) внутри JSON-полей. Вместо того чтобы сканировать целые объекты, Milvus будет напрямую искать значения из предварительно созданных индексов.</p>
<p>В ходе нашей оценки с 100 M+ записями JSON Path Index сократил время ожидания фильтра со <strong>140 мс</strong> (P99: 480 мс) до всего лишь <strong>1,5 мс</strong> (P99: 10 мс) - сокращение на 99 %, что позволит превратить ранее невыполнимые запросы в мгновенные ответы.</p>
<p>Эта функция будет особенно ценной для:</p>
<ul>
<li><p>Рекомендательных систем со сложной фильтрацией пользовательских атрибутов</p></li>
<li><p>RAG-приложений, фильтрующих документы по различным меткам.</p></li>
</ul>
<h2 id="Next-Generation-Search-From-Basic-Vector-Similarity-to-Production-Grade-Retrieval" class="common-anchor-header">Поиск нового поколения: От базового векторного сходства к поиску производственного уровня<button data-href="#Next-Generation-Search-From-Basic-Vector-Similarity-to-Production-Grade-Retrieval" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Одного векторного поиска недостаточно для современных приложений ИИ. Пользователям требуется точность традиционного поиска информации в сочетании с семантическим пониманием векторных вкраплений. В Milvus 2.6 будет представлено несколько расширенных функций поиска, которые восполнят этот пробел.</p>
<h3 id="Better-Full-text-Search-with-Multi-language-Analyzer" class="common-anchor-header">Улучшенный полнотекстовый поиск с многоязычным анализатором</h3><p>Полнотекстовый поиск сильно зависит от языка... В Milvus 2.6 будет представлен полностью обновленный конвейер анализа текста с поддержкой нескольких языков:</p>
<ul>
<li><p><code translate="no">RUN_ANALYZER</code> поддержка синтаксиса для наблюдаемости конфигурации анализатора/токенизатора</p></li>
<li><p>токенизатор Lindera для азиатских языков, таких как японский и корейский</p></li>
<li><p>Токенизатор ICU для всесторонней многоязыковой поддержки</p></li>
<li><p>Гранулярная языковая конфигурация для определения правил токенизации для конкретного языка</p></li>
<li><p>Улучшенная Jieba с поддержкой интеграции пользовательских словарей</p></li>
<li><p>Расширенные возможности фильтрации для более точной обработки текста</p></li>
</ul>
<p>Для глобальных приложений это означает лучший многоязычный поиск без специализированного индексирования на каждом языке или сложных обходных путей.</p>
<h3 id="Phrase-Match-Capturing-Semantic-Nuance-in-Word-Order" class="common-anchor-header">Сопоставление фраз: Улавливание семантических нюансов в порядке слов</h3><p>Порядок слов передает критические смысловые различия, которые часто упускаются при поиске по ключевым словам. Попробуйте сравнить &quot;методы машинного обучения&quot; и &quot;методы машинного обучения&quot; - одни и те же слова, но совершенно разный смысл.</p>
<p>В Milvus 2.6 будет добавлена функция <strong>Phrase Match</strong>, которая дает пользователям больше возможностей для контроля порядка слов и их близости, чем полнотекстовый поиск или точное совпадение строк:</p>
<pre><code translate="no">PHRASE_MATCH(field_name, phrase, slop)
<button class="copy-code-btn"></button></code></pre>
<p>Параметр <code translate="no">slop</code> обеспечивает гибкий контроль над близостью слов - 0 требует точного последовательного совпадения, в то время как более высокие значения позволяют незначительно варьировать фразы.</p>
<p>Эта функция будет особенно полезна для:</p>
<ul>
<li><p>поиска юридических документов, где точные формулировки имеют юридическое значение</p></li>
<li><p>Поиск технического контента, где порядок терминов отличает различные концепции</p></li>
<li><p>Патентных баз данных, где требуется точное соответствие конкретным техническим фразам.</p></li>
</ul>
<h3 id="Time-Aware-Decay-Functions-Automatically-Prioritize-Fresh-Content" class="common-anchor-header">Функции распада с учетом времени: Автоматическое определение приоритета свежего контента</h3><p>Ценность информации часто снижается со временем. Новостные статьи, релизы продуктов и социальные посты теряют актуальность по мере старения, однако традиционные поисковые алгоритмы рассматривают весь контент одинаково, независимо от времени.</p>
<p>В Milvus 2.6 появятся <strong>функции Decay Functions</strong> для ранжирования с учетом времени, которые автоматически корректируют оценки релевантности в зависимости от возраста документа.</p>
<p>
  <span class="img-wrapper">
    <img translate="no" src="https://assets.zilliz.com/decay_function_210e65f9a0.png" alt="" class="doc-image" id="" />
    <span></span>
  </span>
</p>
<p>Вы сможете настраивать:</p>
<ul>
<li><p><strong>Тип функции</strong>: Экспоненциальная (быстрое затухание), Гауссова (постепенное затухание) или Линейная (постоянное затухание).</p></li>
<li><p><strong>Скорость распада</strong>: Как быстро уменьшается релевантность с течением времени</p></li>
<li><p><strong>Точка отсчета</strong>: Контрольная временная метка для измерения разницы во времени</p></li>
</ul>
<p>Такое ранжирование, чувствительное к времени, гарантирует, что на первом месте окажутся самые актуальные и контекстуально значимые результаты, что очень важно для систем рекомендаций новостей, платформ электронной коммерции и лент социальных сетей.</p>
<h3 id="Data-in-Data-Out-From-Raw-Text-to-Vector-Search-in-One-Step" class="common-anchor-header">Данные внутрь, данные наружу: От сырого текста к векторному поиску за один шаг</h3><p>Одной из самых больших проблем разработчиков при работе с векторными базами данных было несоответствие между исходными данными и векторными вложениями. Milvus 2.6 значительно упростит этот рабочий процесс благодаря новому интерфейсу <strong>Function</strong>, который интегрирует сторонние модели встраивания непосредственно в ваш конвейер данных. Это упрощает конвейер векторного поиска одним единственным вызовом.</p>
<p>Вместо предварительного вычисления вкраплений вы сможете:</p>
<ol>
<li><p><strong>Вставлять необработанные данные напрямую</strong>: отправлять в Milvus текст, изображения или другой контент.</p></li>
<li><p><strong>Настроить поставщиков вкраплений для векторизации</strong>: Milvus может подключаться к таким сервисам моделей встраивания, как OpenAI, AWS Bedrock, Google Vertex AI и Hugging Face.</p></li>
<li><p><strong>Запросы на естественном языке</strong>: Поиск с помощью текстовых запросов, а не векторных вкраплений.</p></li>
</ol>
<p>Это позволит создать оптимизированную систему "данные-внутрь, данные-вывод", в которой Milvus обрабатывает внутреннюю генерацию векторов, делая код вашего приложения более простым.</p>
<h2 id="Architectural-Evolution-Scaling-to-Hundreds-of-Billions-of-Vectors" class="common-anchor-header">Архитектурная эволюция: Масштабирование до сотен миллиардов векторов<button data-href="#Architectural-Evolution-Scaling-to-Hundreds-of-Billions-of-Vectors" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Хорошая база данных не просто обладает отличными возможностями, она также должна предоставлять их в масштабе, проверенном в производственных условиях.</p>
<p>В Milvus 2.6 будут внесены фундаментальные архитектурные изменения, которые позволят экономически эффективно масштабировать базу данных до сотен миллиардов векторов. Главной особенностью является новая многоуровневая архитектура хранения "горячий-холодный", которая интеллектуально управляет размещением данных на основе моделей доступа, автоматически перемещая горячие данные в высокопроизводительную память/SSD и размещая холодные данные в более экономичном объектном хранилище. Такой подход позволяет значительно сократить расходы, сохраняя производительность запросов там, где это наиболее важно.</p>
<p>Кроме того, новый <a href="https://milvus.io/blog/we-replaced-kafka-pulsar-with-a-woodpecker-for-milvus.md#StreamingService-Built-for-Real-Time-Data-Flow">узел Streaming Node</a> обеспечит векторную обработку в реальном времени с прямой интеграцией с такими потоковыми платформами, как Kafka и Pulsar, а также с недавно созданным <a href="https://milvus.io/blog/we-replaced-kafka-pulsar-with-a-woodpecker-for-milvus.md">Woodpecker</a>, благодаря чему новые данные можно будет искать сразу же, без задержек на пакетную обработку.</p>
<h2 id="Stay-tuned-for-Milvus-26" class="common-anchor-header">Следите за новостями о Milvus 2.6<button data-href="#Stay-tuned-for-Milvus-26" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Milvus 2.6 в настоящее время находится в активной разработке и будет доступен в июне этого года. Мы с нетерпением ждем этих революционных оптимизаций производительности, расширенных возможностей поиска и новой архитектуры, чтобы помочь вам создавать масштабируемые приложения искусственного интеллекта с меньшими затратами.</p>
<p>А пока мы рады вашим отзывам о предстоящих функциях. Что волнует вас больше всего? Какие возможности окажут наибольшее влияние на ваши приложения? Присоединяйтесь к обсуждению на нашем<a href="https://discord.com/invite/8uyFbECzPX"> канале Discord</a> или следите за нашими успехами на<a href="https://github.com/milvus-io/milvus"> GitHub</a>.</p>
<p>Хотите первыми узнать о выходе Milvus 2.6? Следите за нами на<a href="https://www.linkedin.com/company/zilliz/"> LinkedIn</a> или<a href="https://twitter.com/milvusio"> X</a> для получения последних обновлений.</p>
